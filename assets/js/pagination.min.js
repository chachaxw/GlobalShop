!function(e,t){function o(e){throw new Error("Pagination: "+e)}function s(e){e.dataSource||o('"dataSource" is required.'),"string"==typeof e.dataSource?"undefined"==typeof e.totalNumber?o('"totalNumber" is required.'):t.isNumeric(e.totalNumber)||o('"totalNumber" is incorrect. (Number)'):a.isObject(e.dataSource)&&("undefined"==typeof e.locator?o('"dataSource" is an Object, please specify "locator".'):"string"==typeof e.locator||t.isFunction(e.locator)||o(""+e.locator+" is incorrect. (String | Function)"))}function u(e,t){return("object"==(t=typeof e)?null==e&&"null"||Object.prototype.toString.call(e).slice(8,-1):t).toLowerCase()}"undefined"==typeof t&&o("Pagination requires jQuery.");var n="pagination",i="addHook",r="__pagination-";t.fn.pagination&&(n="pagination2"),t.fn[n]=function(n){if("undefined"==typeof n)return this;var i=t(this),u={initialize:function(){var e=this;if(i.data("pagination")||i.data("pagination",{}),e.callHook("beforeInit")!==!1){i.data("pagination").initialized&&t(".paginationjs",i).remove(),e.disabled=!!f.disabled;var n=e.model={pageRange:f.pageRange,pageSize:f.pageSize};e.parseDataSource(f.dataSource,function(t){if(e.sync=a.isArray(t),e.sync&&(n.totalNumber=f.totalNumber=t.length),n.totalPage=e.getTotalPage(),!(f.hideWhenLessThanOnePage&&n.totalPage<=1)){var r=e.render(!0);f.className&&r.addClass(f.className),n.el=r,i["bottom"===f.position?"append":"prepend"](r),e.observer(),i.data("pagination").initialized=!0,e.callHook("afterInit",r)}})}},render:function(e){var n=this,i=n.model,r=i.el||t('<div class="paginationjs"></div>'),a=e!==!0;n.callHook("beforeRender",a);var o=i.pageNumber||f.pageNumber,s=f.pageRange,u=i.totalPage,l=o-s,c=o+s;return c>u&&(c=u,l=u-2*s,l=1>l?1:l),1>=l&&(l=1,c=Math.min(2*s+1,u)),r.html(n.createTemplate({currentPage:o,pageRange:s,totalPage:u,rangeStart:l,rangeEnd:c})),n.callHook("afterRender",a),r},createTemplate:function(e){var q,O,n=this,i=e.currentPage,r=e.totalPage,a=e.rangeStart,o=e.rangeEnd,s=f.totalNumber,u=f.showPrevious,l=f.showNext,c=f.showPageNumbers,d=f.showNavigator,p=f.showGoInput,h=f.showGoButton,g=f.pageLink,m=f.prevText,v=f.nextText,y=f.ellipsisText,b=f.goButtonText,x=f.classPrefix,w=f.activeClassName,T=f.disableClassName,C=f.ulClassName,k=t.isFunction(f.formatNavigator)?f.formatNavigator():f.formatNavigator,N=t.isFunction(f.formatGoInput)?f.formatGoInput():f.formatGoInput,S=t.isFunction(f.formatGoButton)?f.formatGoButton():f.formatGoButton,j=t.isFunction(f.autoHidePrevious)?f.autoHidePrevious():f.autoHidePrevious,E=t.isFunction(f.autoHideNext)?f.autoHideNext():f.autoHideNext,D=t.isFunction(f.header)?f.header():f.header,A=t.isFunction(f.footer)?f.footer():f.footer,H="",P='<input type="text" class="J-paginationjs-go-pagenumber">',L='<input type="button" class="J-paginationjs-go-button" value="'+b+'">';if(D&&(q=n.replaceVariables(D,{currentPage:i,totalPage:r,totalNumber:s}),H+=q),u||c||l){if(H+='<div class="paginationjs-pages">',H+=C?'<ul class="'+C+'">':"<ul>",u&&(1===i?j||(H+='<li class="'+x+"-prev "+T+'"><a>'+m+"</a></li>"):H+='<li class="'+x+'-prev J-paginationjs-previous" data-num="'+(i-1)+'" title="Previous page"><a href="'+g+'">'+m+"</a></li>"),c){if(3>=a)for(O=1;a>O;O++)H+=O==i?'<li class="'+x+"-page J-paginationjs-page "+w+'" data-num="'+O+'"><a>'+O+"</a></li>":'<li class="'+x+'-page J-paginationjs-page" data-num="'+O+'"><a href="'+g+'">'+O+"</a></li>";else f.showFirstOnEllipsisShow&&(H+='<li class="'+x+"-page "+x+'-first J-paginationjs-page" data-num="1"><a href="'+g+'">1</a></li>'),H+='<li class="'+x+"-ellipsis "+T+'"><a>'+y+"</a></li>";for(O=a;o>=O;O++)H+=O==i?'<li class="'+x+"-page J-paginationjs-page "+w+'" data-num="'+O+'"><a>'+O+"</a></li>":'<li class="'+x+'-page J-paginationjs-page" data-num="'+O+'"><a href="'+g+'">'+O+"</a></li>";if(o>=r-2)for(O=o+1;r>=O;O++)H+='<li class="'+x+'-page J-paginationjs-page" data-num="'+O+'"><a href="'+g+'">'+O+"</a></li>";else H+='<li class="'+x+"-ellipsis "+T+'"><a>'+y+"</a></li>",f.showLastOnEllipsisShow&&(H+='<li class="'+x+"-page "+x+'-last J-paginationjs-page" data-num="'+r+'"><a href="'+g+'">'+r+"</a></li>")}l&&(i==r?E||(H+='<li class="'+x+"-next "+T+'"><a>'+v+"</a></li>"):H+='<li class="'+x+'-next J-paginationjs-next" data-num="'+(i+1)+'" title="Next page"><a href="'+g+'">'+v+"</a></li>"),H+="</ul></div>"}return d&&k&&(q=n.replaceVariables(k,{currentPage:i,totalPage:r,totalNumber:s}),H+='<div class="'+x+'-nav J-paginationjs-nav">'+q+"</div>"),p&&N&&(q=n.replaceVariables(N,{currentPage:i,totalPage:r,totalNumber:s,input:P}),H+='<div class="'+x+'-go-input">'+q+"</div>"),h&&S&&(q=n.replaceVariables(S,{currentPage:i,totalPage:r,totalNumber:s,button:L}),H+='<div class="'+x+'-go-button">'+q+"</div>"),A&&(q=n.replaceVariables(A,{currentPage:i,totalPage:r,totalNumber:s}),H+=q),H},go:function(e,n){function h(e){if(r.callHook("beforePaging",s)===!1)return!1;if(o.direction="undefined"==typeof o.pageNumber?0:s>o.pageNumber?1:-1,o.pageNumber=s,r.render(),r.disabled&&!r.sync&&r.enable(),i.data("pagination").model=o,t.isFunction(f.formatResult)){var u=t.extend(!0,[],e);a.isArray(e=f.formatResult(u))||(e=u)}i.data("pagination").currentPageData=e,r.doCallback(e,n),r.callHook("afterPaging",s),1==s&&r.callHook("afterIsFirstPage"),s==o.totalPage&&r.callHook("afterIsLastPage")}var r=this,o=r.model;if(!r.disabled){var s=e,u=f.pageSize,l=o.totalPage;if(s=parseInt(s),!(!s||1>s||s>l)){if(r.sync)return void h(r.getDataSegment(s));var c={},d=f.alias||{};c[d.pageSize?d.pageSize:"pageSize"]=u,c[d.pageNumber?d.pageNumber:"pageNumber"]=s;var p={type:"get",cache:!1,data:{},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",async:!0};t.extend(!0,p,f.ajax),t.extend(p.data||{},c),p.url=f.dataSource,p.success=function(e){h(r.filterDataByLocator(e))},p.error=function(e,t,n){f.formatAjaxError&&f.formatAjaxError(e,t,n),r.enable()},r.disable(),t.ajax(p)}}},doCallback:function(e,n){var i=this,r=i.model;t.isFunction(n)?n(e,r):t.isFunction(f.callback)&&f.callback(e,r)},destroy:function(){this.callHook("beforeDestroy")!==!1&&(this.model.el.remove(),i.off(),t("#paginationjs-style").remove(),this.callHook("afterDestroy"))},previous:function(e){this.go(this.model.pageNumber-1,e)},next:function(e){this.go(this.model.pageNumber+1,e)},disable:function(){var e=this,t=e.sync?"sync":"async";e.callHook("beforeDisable",t)!==!1&&(e.disabled=!0,e.model.disabled=!0,e.callHook("afterDisable",t))},enable:function(){var e=this,t=e.sync?"sync":"async";e.callHook("beforeEnable",t)!==!1&&(e.disabled=!1,e.model.disabled=!1,e.callHook("afterEnable",t))},refresh:function(e){this.go(this.model.pageNumber,e)},show:function(){var e=this;e.model.el.is(":visible")||e.model.el.show()},hide:function(){var e=this;e.model.el.is(":visible")&&e.model.el.hide()},replaceVariables:function(e,t){var n;for(var i in t){var r=t[i],a=new RegExp("<%=\\s*"+i+"\\s*%>","img");n=(n||e).replace(a,r)}return n},getDataSegment:function(e){var t=f.pageSize,n=f.dataSource,i=f.totalNumber,r=t*(e-1)+1,a=Math.min(e*t,i);return n.slice(r-1,a)},getTotalPage:function(){return Math.ceil(f.totalNumber/f.pageSize)},getLocator:function(e){var n;return"string"==typeof e?n=e:t.isFunction(e)?n=e():o('"locator" is incorrect. (String | Function)'),n},filterDataByLocator:function(e){var i,n=this.getLocator(f.locator);if(a.isObject(e)){try{t.each(n.split("."),function(t,n){i=(i?i:e)[n]})}catch(r){}i?a.isArray(i)||o("dataSource."+n+" must be an Array."):o("dataSource."+n+" is undefined.")}return i||e},parseDataSource:function(e,n){var i=this,r=arguments;a.isObject(e)?n(f.dataSource=i.filterDataByLocator(e)):a.isArray(e)?n(f.dataSource=e):t.isFunction(e)?f.dataSource(function(e){t.isFunction(e)&&o('Unexpect parameter of the "done" Function.'),r.callee.call(i,e,n)}):"string"==typeof e?(/^https?|file:/.test(e)&&(f.ajaxDataType="jsonp"),n(e)):o('Unexpect data type of the "dataSource".')},callHook:function(n){var a,r=i.data("pagination"),o=Array.prototype.slice.apply(arguments);return o.shift(),f[n]&&t.isFunction(f[n])&&f[n].apply(e,o)===!1&&(a=!1),r.hooks&&r.hooks[n]&&t.each(r.hooks[n],function(t,n){n.apply(e,o)===!1&&(a=!1)}),a!==!1},observer:function(){var e=this,n=e.model.el;i.on(r+"go",function(n,i,r){i=parseInt(t.trim(i)),i&&(t.isNumeric(i)||o('"pageNumber" is incorrect. (Number)'),e.go(i,r))}),n.delegate(".J-paginationjs-page","click",function(n){var i=t(n.currentTarget),r=t.trim(i.attr("data-num"));return!r||i.hasClass(f.disableClassName)||i.hasClass(f.activeClassName)?void 0:e.callHook("beforePageOnClick",n,r)===!1?!1:(e.go(r),e.callHook("afterPageOnClick",n,r),f.pageLink?void 0:!1)}),n.delegate(".J-paginationjs-previous","click",function(n){var i=t(n.currentTarget),r=t.trim(i.attr("data-num"));return r&&!i.hasClass(f.disableClassName)?e.callHook("beforePreviousOnClick",n,r)===!1?!1:(e.go(r),e.callHook("afterPreviousOnClick",n,r),f.pageLink?void 0:!1):void 0}),n.delegate(".J-paginationjs-next","click",function(n){var i=t(n.currentTarget),r=t.trim(i.attr("data-num"));return r&&!i.hasClass(f.disableClassName)?e.callHook("beforeNextOnClick",n,r)===!1?!1:(e.go(r),e.callHook("afterNextOnClick",n,r),f.pageLink?void 0:!1):void 0}),n.delegate(".J-paginationjs-go-button","click",function(){var a=t(".J-paginationjs-go-pagenumber",n).val();return e.callHook("beforeGoButtonOnClick",event,a)===!1?!1:(i.trigger(r+"go",a),void e.callHook("afterGoButtonOnClick",event,a))}),n.delegate(".J-paginationjs-go-pagenumber","keyup",function(a){if(13===a.which){var o=t(a.currentTarget).val();if(e.callHook("beforeGoInputOnEnter",a,o)===!1)return!1;i.trigger(r+"go",o),t(".J-paginationjs-go-pagenumber",n).focus(),e.callHook("afterGoInputOnEnter",a,o)}}),i.on(r+"previous",function(t,n){e.previous(n)}),i.on(r+"next",function(t,n){e.next(n)}),i.on(r+"disable",function(){e.disable()}),i.on(r+"enable",function(){e.enable()}),i.on(r+"refresh",function(t,n){e.refresh(n)}),i.on(r+"show",function(){e.show()}),i.on(r+"hide",function(){e.hide()}),i.on(r+"destroy",function(){e.destroy()}),f.triggerPagingOnInit&&i.trigger(r+"go",Math.min(f.pageNumber,e.model.totalPage))}};if(i.data("pagination")&&i.data("pagination").initialized===!0){if(t.isNumeric(n))return i.trigger.call(this,r+"go",n,arguments[1]),this;if("string"==typeof n){var l=Array.prototype.slice.apply(arguments);switch(l[0]=r+l[0],n){case"previous":case"next":case"go":case"disable":case"enable":case"refresh":case"show":case"hide":case"destroy":i.trigger.apply(this,l);break;case"getSelectedPageNum":return i.data("pagination").model?i.data("pagination").model.pageNumber:i.data("pagination").attributes.pageNumber;case"getTotalPage":return i.data("pagination").model.totalPage;case"getSelectedPageData":return i.data("pagination").currentPageData;case"isDisabled":return i.data("pagination").model.disabled===!0;default:o("Pagination do not provide action: "+n)}return this}}else a.isObject(n)||o("Illegal options");var f=t.extend({},arguments.callee.defaults,n);return s(f),u.initialize(),this},t.fn[n].defaults={totalNumber:1,pageNumber:1,pageSize:10,pageRange:2,showPrevious:!0,showNext:!0,showPageNumbers:!0,showNavigator:!1,showGoInput:!1,showGoButton:!1,pageLink:"",prevText:"&laquo;",nextText:"&raquo;",ellipsisText:"...",goButtonText:"Go",classPrefix:"paginationjs",activeClassName:"active",disableClassName:"disabled",inlineStyle:!0,formatNavigator:"<%= currentPage %> / <%= totalPage %>",formatGoInput:"<%= input %>",formatGoButton:"<%= button %>",position:"bottom",autoHidePrevious:!1,autoHideNext:!1,triggerPagingOnInit:!0,hideWhenLessThanOnePage:!1,showFirstOnEllipsisShow:!0,showLastOnEllipsisShow:!0,callback:function(){}},t.fn[i]=function(e,n){arguments.length<2&&o("Missing argument."),t.isFunction(n)||o("callback must be a function.");var i=t(this),r=i.data("pagination");r||(i.data("pagination",{}),r=i.data("pagination")),!r.hooks&&(r.hooks={}),r.hooks[e]=r.hooks[e]||[],r.hooks[e].push(n)},t[n]=function(e,n){arguments.length<2&&o("Requires two parameters.");var i;return i="string"!=typeof e&&e instanceof jQuery?e:t(e),i.length?(i.pagination(n),i):void 0};var a={};t.each(["Object","Array"],function(e,t){a["is"+t]=function(e){return u(e)===t.toLowerCase()}}),"function"==typeof define&&define.amd&&define(function(){return t})}(this,window.jQuery);