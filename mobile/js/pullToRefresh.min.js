var refresher={info:{pullDownLable:"下拉刷新",pullingDownLable:"释放立即刷新",pullUpLable:"上拉加载更多",pullingUpLable:"释放加载更多",loadingLable:"加载中..."},init:function(e){var l=document.getElementById(e.id),a=document.createElement("div");a.className="scroller",l.appendChild(a);var r=l.querySelector(".scroller"),n=l.querySelector("#"+e.id+" ul");r.insertBefore(n,r.childNodes[0]);var o=document.createElement("div");o.className="pullDown";var i=document.createElement("div");i.className="pullDownIcon",o.appendChild(i);var t=document.createElement("div");t.className="pullDownLabel",o.appendChild(t),r.insertBefore(o,r.childNodes[0]);var s=document.createElement("div");s.className="pullUp";var i=document.createElement("div");i.className="pullUpIcon",s.appendChild(i);var c=document.createElement("div");c.className="pullUpLabel";var p=document.createTextNode(refresher.info.pullUpLable);c.appendChild(p),s.appendChild(c),r.appendChild(s);var f=l.querySelector(".pullDown"),m=f.offsetHeight,u=l.querySelector(".pullUp"),d=u.offsetHeight;this.scrollIt(e,f,m,u,d)},scrollIt:function(parameter,pullDownEle,pullDownOffset,pullUpEle,pullUpOffset){eval(parameter.id+"= new iScroll(									parameter.id,									 {										 useTransition: true,										 vScrollbar: false,										 topOffset: pullDownOffset,										 onRefresh: function () {														  refresher.onRelease(pullDownEle,pullUpEle);																		 },										onScrollMove: function () {														     refresher.onScrolling(this,pullDownEle,pullUpEle,pullUpOffset);																		},										onScrollEnd: function () {													       refresher.onScrollEnd(pullDownEle,parameter.pullDownAction,pullUpEle,parameter.pullUpAction);																		}										})")},onScrolling:function(e,l,a,r){e.y>-r&&!l.className.match("loading")&&(l.classList.remove("flip"),l.querySelector(".pullDownLabel").innerHTML=refresher.info.pullDownLable,l.querySelector(".pullDownIcon").style.display="block",e.minScrollY=-r),(e.scrollerH<e.wrapperH&&e.y>e.maxScrollY-r&&a.className.match("flip")||e.scrollerH>e.wrapperH&&e.y>e.maxScrollY-r&&a.className.match("flip"))&&(a.classList.remove("flip"),a.querySelector(".pullUpLabel").innerHTML=refresher.info.pullUpLable),e.y>0&&!a.className.match("loading")&&!l.className.match("loading")&&(l.classList.add("flip"),l.querySelector(".pullDownLabel").innerHTML=refresher.info.pullingDownLable,e.minScrollY=0),(e.scrollerH<e.wrapperH&&e.y<e.minScrollY-r&&!l.className.match("loading")&&!a.className.match("loading")||e.scrollerH>e.wrapperH&&e.y<e.maxScrollY-r&&!l.className.match("loading")&&!a.className.match("loading"))&&(a.classList.add("flip"),a.querySelector(".pullUpLabel").innerHTML=refresher.info.pullingUpLable)},onRelease:function(e,l){e.className.match("loading")&&(e.classList.toggle("loading"),e.querySelector(".pullDownLabel").innerHTML=refresher.info.pullDownLable),l.className.match("loading")&&(l.classList.toggle("loading"),l.querySelector(".pullUpLabel").innerHTML=refresher.info.pullUpLable)},onScrollEnd:function(e,l,a,r){e.className.match("flip")&&!e.className.match("loading")&&(e.classList.add("loading"),e.classList.remove("flip"),e.querySelector(".pullDownLabel").innerHTML=refresher.info.loadingLable,l&&l()),a.className.match("flip")&&!a.className.match("loading")&&(a.classList.add("loading"),a.classList.remove("flip"),a.querySelector(".pullUpLabel").innerHTML=refresher.info.loadingLable,r&&r())}};