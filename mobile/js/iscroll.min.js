!function(o,e){function M(o){return""===t?o:(o=o.charAt(0).toUpperCase()+o.substr(1),t+o)}var l=Math,r=e.createElement("div").style,t=function(){for(var e,o="t,webkitT,MozT,msT,OT".split(","),l=0,t=o.length;t>l;l++)if(e=o[l]+"ransform",e in r)return o[l].substr(0,o[l].length-1);return!1}(),i=t?"-"+t.toLowerCase()+"-":"",a=M("transform"),n=M("transitionProperty"),s=M("transitionDuration"),c=M("transformOrigin"),p=M("transitionTimingFunction"),f=M("transitionDelay"),m=/android/gi.test(navigator.appVersion),u=/iphone|ipad/gi.test(navigator.appVersion),h=/hp-tablet/gi.test(navigator.appVersion),d=M("perspective")in r,S="ontouchstart"in o&&!h,b=t!==!1,g=M("transition")in r,x="onorientationchange"in o?"orientationchange":"resize",y=S?"touchstart":"mousedown",v=S?"touchmove":"mousemove",T=S?"touchend":"mouseup",Y=S?"touchcancel":"mouseup",w=function(){if(t===!1)return!1;var o={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return o[t]}(),X=function(){return o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(o){return setTimeout(o,1)}}(),_=function(){return o.cancelRequestAnimationFrame||o.webkitCancelAnimationFrame||o.webkitCancelRequestAnimationFrame||o.mozCancelRequestAnimationFrame||o.oCancelRequestAnimationFrame||o.msCancelRequestAnimationFrame||clearTimeout}(),z=d?" translateZ(0)":"",E=function(l,r){var f,t=this;t.wrapper="object"==typeof l?l:e.getElementById(l),t.wrapper.style.overflow="hidden",t.scroller=t.wrapper.children[0],t.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:m,hideScrollbar:u,fadeScrollbar:u&&d,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(o){o.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(f in r)t.options[f]=r[f];t.x=t.options.x,t.y=t.options.y,t.options.useTransform=b&&t.options.useTransform,t.options.hScrollbar=t.options.hScroll&&t.options.hScrollbar,t.options.vScrollbar=t.options.vScroll&&t.options.vScrollbar,t.options.zoom=t.options.useTransform&&t.options.zoom,t.options.useTransition=g&&t.options.useTransition,t.options.zoom&&m&&(z=""),t.scroller.style[n]=t.options.useTransform?i+"transform":"top left",t.scroller.style[s]="0",t.scroller.style[c]="0 0",t.options.useTransition&&(t.scroller.style[p]="cubic-bezier(0.33,0.66,0.66,1)"),t.options.useTransform?t.scroller.style[a]="translate("+t.x+"px,"+t.y+"px)"+z:t.scroller.style.cssText+=";position:absolute;top:"+t.y+"px;left:"+t.x+"px",t.options.useTransition&&(t.options.fixedScrollbar=!0),t.refresh(),t._bind(x,o),t._bind(y),S||"none"!=t.options.wheelAction&&(t._bind("DOMMouseScroll"),t._bind("mousewheel")),t.options.checkDOMChanges&&(t.checkDOMTime=setInterval(function(){t._checkDOMChanges()},500))};E.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(o){var e=this;switch(o.type){case y:if(!S&&0!==o.button)return;e._start(o);break;case v:e._move(o);break;case T:case Y:e._end(o);break;case x:e._resize();break;case"DOMMouseScroll":case"mousewheel":e._wheel(o);break;case w:e._transitionEnd(o)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(o){var t,r=this;return r[o+"Scrollbar"]?(r[o+"ScrollbarWrapper"]||(t=e.createElement("div"),r.options.scrollbarClass?t.className=r.options.scrollbarClass+o.toUpperCase():t.style.cssText="position:absolute;z-index:100;"+("h"==o?"height:7px;bottom:1px;left:2px;right:"+(r.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(r.hScrollbar?"7":"2")+"px;top:2px;right:1px"),t.style.cssText+=";pointer-events:none;"+i+"transition-property:opacity;"+i+"transition-duration:"+(r.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(r.options.hideScrollbar?"0":"1"),r.wrapper.appendChild(t),r[o+"ScrollbarWrapper"]=t,t=e.createElement("div"),r.options.scrollbarClass||(t.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+i+"background-clip:padding-box;"+i+"box-sizing:border-box;"+("h"==o?"height:100%":"width:100%")+";"+i+"border-radius:3px;border-radius:3px"),t.style.cssText+=";pointer-events:none;"+i+"transition-property:"+i+"transform;"+i+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+i+"transition-duration:0;"+i+"transform: translate(0,0)"+z,r.options.useTransition&&(t.style.cssText+=";"+i+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),r[o+"ScrollbarWrapper"].appendChild(t),r[o+"ScrollbarIndicator"]=t),"h"==o?(r.hScrollbarSize=r.hScrollbarWrapper.clientWidth,r.hScrollbarIndicatorSize=l.max(l.round(r.hScrollbarSize*r.hScrollbarSize/r.scrollerW),8),r.hScrollbarIndicator.style.width=r.hScrollbarIndicatorSize+"px",r.hScrollbarMaxScroll=r.hScrollbarSize-r.hScrollbarIndicatorSize,r.hScrollbarProp=r.hScrollbarMaxScroll/r.maxScrollX):(r.vScrollbarSize=r.vScrollbarWrapper.clientHeight,r.vScrollbarIndicatorSize=l.max(l.round(r.vScrollbarSize*r.vScrollbarSize/r.scrollerH),8),r.vScrollbarIndicator.style.height=r.vScrollbarIndicatorSize+"px",r.vScrollbarMaxScroll=r.vScrollbarSize-r.vScrollbarIndicatorSize,r.vScrollbarProp=r.vScrollbarMaxScroll/r.maxScrollY),void r._scrollbarPos(o,!0)):void(r[o+"ScrollbarWrapper"]&&(b&&(r[o+"ScrollbarIndicator"].style[a]=""),r[o+"ScrollbarWrapper"].parentNode.removeChild(r[o+"ScrollbarWrapper"]),r[o+"ScrollbarWrapper"]=null,r[o+"ScrollbarIndicator"]=null))},_resize:function(){var o=this;setTimeout(function(){o.refresh()},m?200:0)},_pos:function(o,e){this.zoomed||(o=this.hScroll?o:0,e=this.vScroll?e:0,this.options.useTransform?this.scroller.style[a]="translate("+o+"px,"+e+"px) scale("+this.scale+")"+z:(o=l.round(o),e=l.round(e),this.scroller.style.left=o+"px",this.scroller.style.top=e+"px"),this.x=o,this.y=e,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(o,e){var i,r=this,t="h"==o?r.x:r.y;r[o+"Scrollbar"]&&(t=r[o+"ScrollbarProp"]*t,0>t?(r.options.fixedScrollbar||(i=r[o+"ScrollbarIndicatorSize"]+l.round(3*t),8>i&&(i=8),r[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=i+"px"),t=0):t>r[o+"ScrollbarMaxScroll"]&&(r.options.fixedScrollbar?t=r[o+"ScrollbarMaxScroll"]:(i=r[o+"ScrollbarIndicatorSize"]-l.round(3*(t-r[o+"ScrollbarMaxScroll"])),8>i&&(i=8),r[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=i+"px",t=r[o+"ScrollbarMaxScroll"]+(r[o+"ScrollbarIndicatorSize"]-i))),r[o+"ScrollbarWrapper"].style[f]="0",r[o+"ScrollbarWrapper"].style.opacity=e&&r.options.hideScrollbar?"0":"1",r[o+"ScrollbarIndicator"].style[a]="translate("+("h"==o?t+"px,0)":"0,"+t+"px)")+z)},_start:function(e){var i,n,s,c,p,r=this,t=S?e.touches[0]:e;r.enabled&&(r.options.onBeforeScrollStart&&r.options.onBeforeScrollStart.call(r,e),(r.options.useTransition||r.options.zoom)&&r._transitionTime(0),r.moved=!1,r.animating=!1,r.zoomed=!1,r.distX=0,r.distY=0,r.absDistX=0,r.absDistY=0,r.dirX=0,r.dirY=0,r.options.zoom&&S&&e.touches.length>1&&(c=l.abs(e.touches[0].pageX-e.touches[1].pageX),p=l.abs(e.touches[0].pageY-e.touches[1].pageY),r.touchesDistStart=l.sqrt(c*c+p*p),r.originX=l.abs(e.touches[0].pageX+e.touches[1].pageX-2*r.wrapperOffsetLeft)/2-r.x,r.originY=l.abs(e.touches[0].pageY+e.touches[1].pageY-2*r.wrapperOffsetTop)/2-r.y,r.options.onZoomStart&&r.options.onZoomStart.call(r,e)),r.options.momentum&&(r.options.useTransform?(i=getComputedStyle(r.scroller,null)[a].replace(/[^0-9\-.,]/g,"").split(","),n=+(i[12]||i[4]),s=+(i[13]||i[5])):(n=+getComputedStyle(r.scroller,null).left.replace(/[^0-9-]/g,""),s=+getComputedStyle(r.scroller,null).top.replace(/[^0-9-]/g,"")),(n!=r.x||s!=r.y)&&(r.options.useTransition?r._unbind(w):_(r.aniTime),r.steps=[],r._pos(n,s),r.options.onScrollEnd&&r.options.onScrollEnd.call(r))),r.absStartX=r.x,r.absStartY=r.y,r.startX=r.x,r.startY=r.y,r.pointX=t.pageX,r.pointY=t.pageY,r.startTime=e.timeStamp||Date.now(),r.options.onScrollStart&&r.options.onScrollStart.call(r,e),r._bind(v,o),r._bind(T,o),r._bind(Y,o))},_move:function(o){var c,p,f,e=this,r=S?o.touches[0]:o,t=r.pageX-e.pointX,i=r.pageY-e.pointY,n=e.x+t,s=e.y+i,m=o.timeStamp||Date.now();return e.options.onBeforeScrollMove&&e.options.onBeforeScrollMove.call(e,o),e.options.zoom&&S&&o.touches.length>1?(c=l.abs(o.touches[0].pageX-o.touches[1].pageX),p=l.abs(o.touches[0].pageY-o.touches[1].pageY),e.touchesDist=l.sqrt(c*c+p*p),e.zoomed=!0,f=1/e.touchesDistStart*e.touchesDist*this.scale,f<e.options.zoomMin?f=.5*e.options.zoomMin*Math.pow(2,f/e.options.zoomMin):f>e.options.zoomMax&&(f=2*e.options.zoomMax*Math.pow(.5,e.options.zoomMax/f)),e.lastScale=f/this.scale,n=this.originX-this.originX*e.lastScale+this.x,s=this.originY-this.originY*e.lastScale+this.y,this.scroller.style[a]="translate("+n+"px,"+s+"px) scale("+f+")"+z,void(e.options.onZoom&&e.options.onZoom.call(e,o))):(e.pointX=r.pageX,e.pointY=r.pageY,(n>0||n<e.maxScrollX)&&(n=e.options.bounce?e.x+t/2:n>=0||e.maxScrollX>=0?0:e.maxScrollX),(s>e.minScrollY||s<e.maxScrollY)&&(s=e.options.bounce?e.y+i/2:s>=e.minScrollY||e.maxScrollY>=0?e.minScrollY:e.maxScrollY),e.distX+=t,e.distY+=i,e.absDistX=l.abs(e.distX),e.absDistY=l.abs(e.distY),void(e.absDistX<6&&e.absDistY<6||(e.options.lockDirection&&(e.absDistX>e.absDistY+5?(s=e.y,i=0):e.absDistY>e.absDistX+5&&(n=e.x,t=0)),e.moved=!0,e._pos(n,s),e.dirX=t>0?-1:0>t?1:0,e.dirY=i>0?-1:0>i?1:0,m-e.startTime>300&&(e.startTime=m,e.startX=e.x,e.startY=e.y),e.options.onScrollMove&&e.options.onScrollMove.call(e,o))))},_end:function(r){if(!S||0===r.touches.length){var n,c,d,b,g,x,y,t=this,i=S?r.changedTouches[0]:r,p={dist:0,time:0},f={dist:0,time:0},m=(r.timeStamp||Date.now())-t.startTime,u=t.x,h=t.y;if(t._unbind(v,o),t._unbind(T,o),t._unbind(Y,o),t.options.onBeforeScrollEnd&&t.options.onBeforeScrollEnd.call(t,r),t.zoomed)return y=t.scale*t.lastScale,y=Math.max(t.options.zoomMin,y),y=Math.min(t.options.zoomMax,y),t.lastScale=y/t.scale,t.scale=y,t.x=t.originX-t.originX*t.lastScale+t.x,t.y=t.originY-t.originY*t.lastScale+t.y,t.scroller.style[s]="200ms",t.scroller.style[a]="translate("+t.x+"px,"+t.y+"px) scale("+t.scale+")"+z,t.zoomed=!1,t.refresh(),void(t.options.onZoomEnd&&t.options.onZoomEnd.call(t,r));if(!t.moved)return S&&(t.doubleTapTimer&&t.options.zoom?(clearTimeout(t.doubleTapTimer),t.doubleTapTimer=null,t.options.onZoomStart&&t.options.onZoomStart.call(t,r),t.zoom(t.pointX,t.pointY,1==t.scale?t.options.doubleTapZoom:1),t.options.onZoomEnd&&setTimeout(function(){t.options.onZoomEnd.call(t,r)},200)):this.options.handleClick&&(t.doubleTapTimer=setTimeout(function(){for(t.doubleTapTimer=null,n=i.target;1!=n.nodeType;)n=n.parentNode;"SELECT"!=n.tagName&&"INPUT"!=n.tagName&&"TEXTAREA"!=n.tagName&&(c=e.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,r.view,1,i.screenX,i.screenY,i.clientX,i.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,0,null),c._fake=!0,n.dispatchEvent(c))},t.options.zoom?250:0))),t._resetPos(400),void(t.options.onTouchEnd&&t.options.onTouchEnd.call(t,r));if(300>m&&t.options.momentum&&(p=u?t._momentum(u-t.startX,m,-t.x,t.scrollerW-t.wrapperW+t.x,t.options.bounce?t.wrapperW:0):p,f=h?t._momentum(h-t.startY,m,-t.y,t.maxScrollY<0?t.scrollerH-t.wrapperH+t.y-t.minScrollY:0,t.options.bounce?t.wrapperH:0):f,u=t.x+p.dist,h=t.y+f.dist,(t.x>0&&u>0||t.x<t.maxScrollX&&u<t.maxScrollX)&&(p={dist:0,time:0}),(t.y>t.minScrollY&&h>t.minScrollY||t.y<t.maxScrollY&&h<t.maxScrollY)&&(f={dist:0,time:0})),p.dist||f.dist)return g=l.max(l.max(p.time,f.time),10),t.options.snap&&(d=u-t.absStartX,b=h-t.absStartY,l.abs(d)<t.options.snapThreshold&&l.abs(b)<t.options.snapThreshold?t.scrollTo(t.absStartX,t.absStartY,200):(x=t._snap(u,h),u=x.x,h=x.y,g=l.max(x.time,g))),t.scrollTo(l.round(u),l.round(h),g),void(t.options.onTouchEnd&&t.options.onTouchEnd.call(t,r));if(t.options.snap)return d=u-t.absStartX,b=h-t.absStartY,l.abs(d)<t.options.snapThreshold&&l.abs(b)<t.options.snapThreshold?t.scrollTo(t.absStartX,t.absStartY,200):(x=t._snap(t.x,t.y),(x.x!=t.x||x.y!=t.y)&&t.scrollTo(x.x,x.y,x.time)),void(t.options.onTouchEnd&&t.options.onTouchEnd.call(t,r));t._resetPos(200),t.options.onTouchEnd&&t.options.onTouchEnd.call(t,r)}},_resetPos:function(o){var e=this,l=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,r=e.y>=e.minScrollY||e.maxScrollY>0?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;return l==e.x&&r==e.y?(e.moved&&(e.moved=!1,e.options.onScrollEnd&&e.options.onScrollEnd.call(e)),e.hScrollbar&&e.options.hideScrollbar&&("webkit"==t&&(e.hScrollbarWrapper.style[f]="300ms"),e.hScrollbarWrapper.style.opacity="0"),void(e.vScrollbar&&e.options.hideScrollbar&&("webkit"==t&&(e.vScrollbarWrapper.style[f]="300ms"),e.vScrollbarWrapper.style.opacity="0"))):void e.scrollTo(l,r,o||0)},_wheel:function(o){var l,r,t,i,a,e=this;if("wheelDeltaX"in o)l=o.wheelDeltaX/12,r=o.wheelDeltaY/12;else if("wheelDelta"in o)l=r=o.wheelDelta/12;else{if(!("detail"in o))return;l=r=3*-o.detail}return"zoom"==e.options.wheelAction?(a=e.scale*Math.pow(2,1/3*(r?r/Math.abs(r):0)),a<e.options.zoomMin&&(a=e.options.zoomMin),a>e.options.zoomMax&&(a=e.options.zoomMax),void(a!=e.scale&&(!e.wheelZoomCount&&e.options.onZoomStart&&e.options.onZoomStart.call(e,o),e.wheelZoomCount++,e.zoom(o.pageX,o.pageY,a,400),setTimeout(function(){e.wheelZoomCount--,!e.wheelZoomCount&&e.options.onZoomEnd&&e.options.onZoomEnd.call(e,o)},400)))):(t=e.x+l,i=e.y+r,t>0?t=0:t<e.maxScrollX&&(t=e.maxScrollX),i>e.minScrollY?i=e.minScrollY:i<e.maxScrollY&&(i=e.maxScrollY),void(e.maxScrollY<0&&e.scrollTo(t,i,0)))},_transitionEnd:function(o){var e=this;o.target==e.scroller&&(e._unbind(w),e._startAni())},_startAni:function(){var i,a,n,o=this,e=o.x,r=o.y,t=Date.now();if(!o.animating){if(!o.steps.length)return void o._resetPos(400);if(i=o.steps.shift(),i.x==e&&i.y==r&&(i.time=0),o.animating=!0,o.moved=!0,o.options.useTransition)return o._transitionTime(i.time),o._pos(i.x,i.y),o.animating=!1,void(i.time?o._bind(w):o._resetPos(0));n=function(){var c,p,s=Date.now();return s>=t+i.time?(o._pos(i.x,i.y),o.animating=!1,o.options.onAnimationEnd&&o.options.onAnimationEnd.call(o),void o._startAni()):(s=(s-t)/i.time-1,a=l.sqrt(1-s*s),c=(i.x-e)*a+e,p=(i.y-r)*a+r,o._pos(c,p),void(o.animating&&(o.aniTime=X(n))))},n()}},_transitionTime:function(o){o+="ms",this.scroller.style[s]=o,this.hScrollbar&&(this.hScrollbarIndicator.style[s]=o),this.vScrollbar&&(this.vScrollbarIndicator.style[s]=o)},_momentum:function(o,e,r,t,i){var a=6e-4,n=l.abs(o)/e,s=n*n/(2*a),c=0,p=0;return o>0&&s>r?(p=i/(6/(s/n*a)),r+=p,n=n*r/s,s=r):0>o&&s>t&&(p=i/(6/(s/n*a)),t+=p,n=n*t/s,s=t),s*=0>o?-1:1,c=n/a,{dist:s,time:l.round(c)}},_offset:function(o){for(var e=-o.offsetLeft,l=-o.offsetTop;o=o.offsetParent;)e-=o.offsetLeft,l-=o.offsetTop;return o!=this.wrapper&&(e*=this.scale,l*=this.scale),{left:e,top:l}},_snap:function(o,e){var t,i,a,n,s,c,r=this;for(a=r.pagesX.length-1,t=0,i=r.pagesX.length;i>t;t++)if(o>=r.pagesX[t]){a=t;break}for(a==r.currPageX&&a>0&&r.dirX<0&&a--,o=r.pagesX[a],s=l.abs(o-r.pagesX[r.currPageX]),s=s?l.abs(r.x-o)/s*500:0,r.currPageX=a,a=r.pagesY.length-1,t=0;a>t;t++)if(e>=r.pagesY[t]){a=t;break}return a==r.currPageY&&a>0&&r.dirY<0&&a--,e=r.pagesY[a],c=l.abs(e-r.pagesY[r.currPageY]),c=c?l.abs(r.y-e)/c*500:0,r.currPageY=a,n=l.round(l.max(s,c))||200,{x:o,y:e,time:n}},_bind:function(o,e,l){(e||this.scroller).addEventListener(o,this,!!l)},_unbind:function(o,e,l){(e||this.scroller).removeEventListener(o,this,!!l)},destroy:function(){var e=this;e.scroller.style[a]="",e.hScrollbar=!1,e.vScrollbar=!1,e._scrollbar("h"),e._scrollbar("v"),e._unbind(x,o),e._unbind(y),e._unbind(v,o),e._unbind(T,o),e._unbind(Y,o),e.options.hasTouch||(e._unbind("DOMMouseScroll"),e._unbind("mousewheel")),e.options.useTransition&&e._unbind(w),e.options.checkDOMChanges&&clearInterval(e.checkDOMTime),e.options.onDestroy&&e.options.onDestroy.call(e)},refresh:function(){var e,r,t,i,o=this,a=0,n=0;if(o.scale<o.options.zoomMin&&(o.scale=o.options.zoomMin),o.wrapperW=o.wrapper.clientWidth||1,o.wrapperH=o.wrapper.clientHeight||1,o.minScrollY=-o.options.topOffset||0,o.scrollerW=l.round(o.scroller.offsetWidth*o.scale),o.scrollerH=l.round((o.scroller.offsetHeight+o.minScrollY)*o.scale),o.maxScrollX=o.wrapperW-o.scrollerW,o.maxScrollY=o.wrapperH-o.scrollerH+o.minScrollY,o.dirX=0,o.dirY=0,o.options.onRefresh&&o.options.onRefresh.call(o),o.hScroll=o.options.hScroll&&o.maxScrollX<0,o.vScroll=o.options.vScroll&&(!o.options.bounceLock&&!o.hScroll||o.scrollerH>o.wrapperH),o.hScrollbar=o.hScroll&&o.options.hScrollbar,o.vScrollbar=o.vScroll&&o.options.vScrollbar&&o.scrollerH>o.wrapperH,e=o._offset(o.wrapper),o.wrapperOffsetLeft=-e.left,o.wrapperOffsetTop=-e.top,"string"==typeof o.options.snap)for(o.pagesX=[],o.pagesY=[],i=o.scroller.querySelectorAll(o.options.snap),r=0,t=i.length;t>r;r++)a=o._offset(i[r]),a.left+=o.wrapperOffsetLeft,a.top+=o.wrapperOffsetTop,o.pagesX[r]=a.left<o.maxScrollX?o.maxScrollX:a.left*o.scale,o.pagesY[r]=a.top<o.maxScrollY?o.maxScrollY:a.top*o.scale;else if(o.options.snap){for(o.pagesX=[];a>=o.maxScrollX;)o.pagesX[n]=a,a-=o.wrapperW,n++;for(o.maxScrollX%o.wrapperW&&(o.pagesX[o.pagesX.length]=o.maxScrollX-o.pagesX[o.pagesX.length-1]+o.pagesX[o.pagesX.length-1]),a=0,n=0,o.pagesY=[];a>=o.maxScrollY;)o.pagesY[n]=a,a-=o.wrapperH,n++;o.maxScrollY%o.wrapperH&&(o.pagesY[o.pagesY.length]=o.maxScrollY-o.pagesY[o.pagesY.length-1]+o.pagesY[o.pagesY.length-1])}o._scrollbar("h"),o._scrollbar("v"),o.zoomed||(o.scroller.style[s]="0",o._resetPos(400))},scrollTo:function(o,e,l,r){var a,n,t=this,i=o;for(t.stop(),i.length||(i=[{x:o,y:e,time:l,relative:r}]),a=0,n=i.length;n>a;a++)i[a].relative&&(i[a].x=t.x-i[a].x,i[a].y=t.y-i[a].y),t.steps.push({x:i[a].x,y:i[a].y,time:i[a].time||0});t._startAni()},scrollToElement:function(o,e){var t,r=this;o=o.nodeType?o:r.scroller.querySelector(o),o&&(t=r._offset(o),t.left+=r.wrapperOffsetLeft,t.top+=r.wrapperOffsetTop,t.left=t.left>0?0:t.left<r.maxScrollX?r.maxScrollX:t.left,t.top=t.top>r.minScrollY?r.minScrollY:t.top<r.maxScrollY?r.maxScrollY:t.top,e=void 0===e?l.max(2*l.abs(t.left),2*l.abs(t.top)):e,r.scrollTo(t.left,t.top,e))},scrollToPage:function(o,e,l){var t,i,r=this;l=void 0===l?400:l,r.options.onScrollStart&&r.options.onScrollStart.call(r),r.options.snap?(o="next"==o?r.currPageX+1:"prev"==o?r.currPageX-1:o,e="next"==e?r.currPageY+1:"prev"==e?r.currPageY-1:e,o=0>o?0:o>r.pagesX.length-1?r.pagesX.length-1:o,e=0>e?0:e>r.pagesY.length-1?r.pagesY.length-1:e,r.currPageX=o,r.currPageY=e,t=r.pagesX[o],i=r.pagesY[e]):(t=-r.wrapperW*o,i=-r.wrapperH*e,t<r.maxScrollX&&(t=r.maxScrollX),i<r.maxScrollY&&(i=r.maxScrollY)),r.scrollTo(t,i,l)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(v,o),this._unbind(T,o),this._unbind(Y,o)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(w):_(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(o,e,l,r){var t=this,i=l/t.scale;t.options.useTransform&&(t.zoomed=!0,r=void 0===r?200:r,o=o-t.wrapperOffsetLeft-t.x,e=e-t.wrapperOffsetTop-t.y,t.x=o-o*i+t.x,t.y=e-e*i+t.y,t.scale=l,t.refresh(),t.x=t.x>0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,t.y=t.y>t.minScrollY?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y,t.scroller.style[s]=r+"ms",t.scroller.style[a]="translate("+t.x+"px,"+t.y+"px) scale("+l+")"+z,t.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},r=null,"undefined"!=typeof exports?exports.iScroll=E:o.iScroll=E}(window,document);